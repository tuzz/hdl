grammar Pins
  rule pins
    inputs ws outputs {
      def to_hash
        { :inputs => inputs.vars.to_a, :outputs => outputs.vars.to_a }
      end
    }
  end

  rule inputs
    "inputs" ws vars
  end

  rule outputs
    "outputs" ws vars
  end

  rule vars
    var ("," ws? vars)* {
      def to_a
        text_value.split(",").map { |s| s.strip.to_sym }
      end
    }
  end

  rule var
    [a-z] [a-z0-9_]*
  end

  rule ws
    [ \t\r\n]+
  end
end
